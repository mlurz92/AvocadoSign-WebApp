# **Application Description: Nodal Staging Analysis Tool (Version 3.0.0)**

## **1\. Introduction**

### **1.1 Purpose of the Application**

The **Nodal Staging: Avocado Sign vs. T2 Criteria** analysis tool (Version 3.0.0) is a sophisticated, client-side web application designed for scientific research in the radiological diagnosis of rectal cancer. It serves as a powerful instrument for researchers and clinicians to conduct in-depth analyses and detailed comparisons of the diagnostic performance of various MRI-based criteria for assessing mesorectal lymph node status (N-status). The application's primary focus is the evaluation of the novel "Avocado Sign" (AS) against established literature-based and data-driven, optimized T2-weighted (T2w) morphological criteria.

Core functionalities include:

* Interactive exploration and visualization of pseudonymized patient data.  
* Flexible definition and immediate application of complex T2w criteria sets.  
* Automated identification of optimal T2w criteria combinations via an integrated brute-force optimization algorithm.  
* Comprehensive statistical evaluation of diagnostic performance, including sensitivity, specificity, predictive values, accuracy, and AUC with confidence intervals and p-values.  
* Generation of manuscript drafts and materials for scientific publications, specifically tailored to the requirements of the journal *Radiology*.  
* Creation of content for scientific presentations.  
* Versatile export options for data, results, and graphics.

### **1.2 Target Audience**

The application is designed for the following user groups:

* **Medical Researchers and Scientists:** Particularly in radiological diagnostics, surgical oncology, and radiation therapy, who are conducting or planning studies to evaluate and compare staging methods in rectal cancer.  
* **Radiologists:** Interested in the development, validation, and implementation of new MRI criteria for the local staging of rectal cancer.  
* **Data Analysts and Medical Statisticians:** Involved in the evaluation of diagnostic studies and the modeling of predictive markers.  
* **Authors of Scientific Publications:** Requiring assistance in preparing manuscripts for high-impact journals like *Radiology*.

### **1.3 Important Usage Disclaimer**

The **Nodal Staging Analysis Tool** is intended solely as a **research instrument** for exploratory data analysis and to support scientific investigation. The results, statistics, texts, and visualizations generated by the application are **not intended for clinical diagnosis in individual cases, for direct patient treatment decisions, or for any other immediate medical applications.** Any interpretation of the results must always be made within the context of the underlying study data and its limitations (e.g., retrospective design, single-center data basis of the 106 included cases). The responsibility for the correct scientific classification and use of the results lies entirely with the user.

## **2\. System Overview**

### **2.1 Global User Interface (UI) Elements**

The application features an intuitive, web-based user interface divided into the following main areas:

* **Header Area:**  
  * **Application Title:** Prominently displays "Nodal Staging: Avocado Sign vs. T2".  
  * **Global Cohort Selection:** A button group ("Overall", "Upfront Surgery", "nRCT") allows the selection of the patient cohort used for all analyses and displays throughout the application. The active selection is visually highlighted.  
  * **Dynamic Meta-Statistics:** A bar in the header shows key metrics for the currently selected cohort: name of the cohort, total number of patients, and the percentage of patients with positive pathological N-status (N+), positive Avocado Sign (AS+), and positive T2-status (T2+, based on the criteria currently defined and applied in the "Analysis" tab).  
* Main Navigation (Tab Bar):  
  A horizontal bar with tabs allows switching between the main functional modules of the application: Data, Analysis, Statistics, Presentation, Publication, and Export.  
* Quick Guide Button:  
  A dedicated button (with a question mark icon) opens a modal window containing a detailed quick start guide on how to use the various application features, as well as important usage notes and definitions.

### **2.2 Application Data Basis**

The current version of the application operates on a fixed, integrated, pseudonymized dataset of **106 patient cases** with histologically confirmed rectal cancer. This dataset includes clinical information (age, sex, therapy group), the histopathologically confirmed N-status of each patient, the findings for the Avocado Sign, and detailed morphological characteristics for each T2-weighted lymph node (size, shape, border, homogeneity, signal intensity).

## **3\. Core Concepts**

### **3.1 Patient Cohort Selection**

The selection of the patient cohort via the buttons in the header ("Overall", "Upfront Surgery", "nRCT") is a fundamental concept of the application.

* **Overall:** Includes all 106 patients in the analyses.  
* **Upfront Surgery:** Filters the database to patients who underwent primary surgery without prior neoadjuvant therapy.  
* nRCT: Filters the database to patients who received neoadjuvant chemoradiotherapy (nRCT) before surgery.  
  This selection globally affects all calculations, statistics, tables, charts, and text generations in all tabs of the application.

### **3.2 Interactive Tooltips**

To facilitate ease of use and understanding, numerous UI elements (buttons, input fields, dropdown menus, column headers in tables) as well as displayed statistical metrics are equipped with dynamic tooltips. Hovering over these elements reveals brief explanations of their function, definitions of metrics, or interpretation aids.

## **4\. Detailed Description of Application Modules (Tabs)**

### **4.1 Data Tab**

* **Purpose:** Detailed display and exploration of the underlying patient data of the currently selected global cohort.  
* **Key Features & UI Elements:**  
  * **Patient Table:** Lists each patient of the selected cohort with the following information: ID, Last Name, First Name, Sex, Age, Therapy, N/AS/T2 status, and Notes.  
  * **Sorting Function:** Each column can be sorted in ascending or descending order by clicking the column header. The "N/AS/T2" column offers advanced sorting by clicking on "N", "AS", or "T2" within the header.  
  * **T2 Lymph Node Detail View:** For patients with recorded T2 lymph node data, clicking on the patient row expands a detail view. This view lists each individual T2-weighted lymph node of that patient with its specific morphological properties.  
  * **"Expand All Details" Button:** Toggles all T2 lymph node detail views in the table.

### **4.2 Analysis Tab**

* **Purpose:** This is the interactive hub for defining T2-weighted criteria, running the brute-force optimization to find optimal T2 criteria, and conducting a detailed evaluation of the currently set criteria at the patient level.  
* **Key Features & UI Elements:**  
  * **Dashboard:** Provides a quick graphical overview of the current global cohort, visualizing distributions of age, sex, therapy, and the prevalence of positive N, AS, and T2 statuses.  
  * **"Define T2 Malignancy Criteria" Card:** Allows for the interactive definition of a custom T2 criteria set.  
    * **Logic Switch:** A toggle to choose between AND (all active criteria must be met) and OR (at least one active criterion is sufficient) logic.  
    * **Individual Criteria Controls:** For each of the five morphological T2 features (Size, Shape, Border, Homogeneity, Signal), there is a checkbox to activate/deactivate the criterion and controls to set the specific value considered suspicious (e.g., a slider for size threshold, buttons for shape).  
    * **Action Buttons:**  
      * **"Reset to Default":** Resets all criteria and logic to predefined defaults.  
      * **"Apply & Save":** Applies the current T2 criteria settings globally across the application. An indicator on the card's border signals unsaved changes.  
  * **"Diagnostic Performance (Applied T2)" Card:** Displays key diagnostic performance metrics (Sensitivity, Specificity, PPV, NPV, etc., with 95% CIs) for the currently applied T2 criteria set against the pathological N-status for the global cohort.  
  * **"Criteria Optimization (Brute-Force)" Card:**  
    * **Target Metric Selection:** Allows the user to select the diagnostic metric (e.g., Balanced Accuracy, F1-Score) for the algorithm to maximize.  
    * **"Start Optimization" Button:** Initiates a background process (using a Web Worker) that systematically tests numerous combinations of T2 features and logic to find the optimal set for the current cohort.  
    * **Progress & Results:** Displays real-time progress and, upon completion, shows the best criteria combination found. A "Top 10" button opens a modal with more detailed results.  
    * **"Apply Best Criteria" Button:** Directly applies the optimal criteria found to the "Define T2 Malignancy Criteria" card and the entire application.  
  * **Analysis Table:** Lists patients with their N, AS, and T2 status. Expandable rows show a detailed breakdown of how each T2 lymph node was evaluated against the current criteria, highlighting which features led to a positive classification.

### **4.3 Statistics Tab**

* **Purpose:** This tab provides comprehensive statistical evaluation of the diagnostic performance of the Avocado Sign and the currently applied T2 criteria.  
* **Key Features & UI Elements:**  
  * **Layout Toggle ("Single View" / "Comparison"):** Switches between a detailed analysis of the single, globally selected cohort and a side-by-side statistical comparison of two user-selected cohorts.  
  * **Statistical Analyses Displayed:**  
    * **Descriptive Statistics:** Summary tables and charts for demographics and baseline rates.  
    * **Diagnostic Performance (AS vs. N and T2 vs. N):** Detailed tables with Sensitivity, Specificity, PPV, NPV, Accuracy, AUC, etc., including 95% CIs and confusion matrices.  
    * **Statistical Comparison (AS vs. T2):** Results of McNemar's and DeLong's tests for paired comparisons.  
    * **Association Analyses:** Exploratory analysis of the association between individual features and N-status (OR, RD, Phi).  
    * **Cohort Comparison (in Comparison Layout):** Statistical tests comparing the performance of a method between two independent cohorts.  
  * **Criteria Comparison Table:** A summary table at the bottom comparing the key performance metrics of AS, the applied T2 criteria, and predefined literature-based criteria sets.

### **4.4 Presentation Tab**

* **Purpose:** Formats selected analysis results in a clean, visual layout suitable for scientific presentations.  
* **Key Features & UI Elements:**  
  * **View Selection:** Radio buttons to switch between two views: "AS Performance" (focus on Avocado Sign metrics) and "AS vs. T2 Comparison".  
  * **T2 Comparison Basis Selection:** In the comparison view, a dropdown allows the user to select a T2 criteria set (either the currently applied one or a predefined set from the literature) to compare against the Avocado Sign.  
  * **Dynamic Content:** The view is populated with info cards, comparison tables, statistical test results, and bar charts, all tailored to the selected view and comparison basis.  
  * **Download Functions:** Buttons to export tables (CSV, MD) and charts (PNG, SVG).

### **4.5 Publication Tab**

* **Purpose:** A core tool to assist in writing a scientific manuscript, automatically generating text, tables, and figures that adhere to the style and formal requirements of the journal *Radiology*.  
* **Key Features & UI Elements:**  
  * **Section Navigation:** A sidebar lists the standard sections of an original research article (Abstract, Introduction, Methods, Results, Discussion, References). Clicking a section displays the corresponding generated content.  
  * **BF Target Metric Selection:** A dropdown allows the user to specify which brute-force optimization results should be referenced in the text.  
  * **Dynamically Generated Content:**  
    * **Text Generation:** For each section, the tool generates professionally formulated English text that integrates current data, statistical results (formatted according to *Radiology* guidelines, e.g., *P* \< .001), and references to figures and tables.  
    * **Embedded Tables & Figures:** Relevant tables and figures are displayed directly within the text flow, formatted for a publication layout.  
    * **Stylistic Adherence:** The generated content respects formal requirements, such as defining abbreviations at first use and using appropriate statistical reporting language.

### **4.6 Export Tab**

* **Purpose:** Provides comprehensive functionality to export raw data, analysis results, generated tables, figures, and publication texts in various formats.  
* **Key Features & UI Elements:**  
  * **Export Categories:** Options are grouped into "Single Exports" and "Export Packages (.zip)".  
  * **Available Exports:**  
    * **Data:** Raw data (CSV), data lists (MD), analysis tables (MD).  
    * **Statistics:** Comprehensive statistics report (CSV), brute-force report (TXT).  
    * **Graphics:** All visible charts and selected tables as PNG or SVG files, bundled in a ZIP archive.  
    * **Reports:** A comprehensive HTML analysis report and bundled Markdown files for all publication sections.  
  * **Context-Awareness:** All exports are based on the currently selected global cohort and the last applied T2 criteria. Buttons for unavailable exports are automatically disabled.

## **5\. Technical Appendix**

### **5.1 Configuration**

The application's behavior is primarily controlled by js/config.js, which centralizes application settings, UI texts, statistical constants, and publication-specific configurations.

### **5.2 Glossary of Key Terms**

* **AS:** Avocado Sign  
* **AUC:** Area Under the Curve  
* **BF:** Brute-Force  
* **CI:** Confidence Interval  
* **nRCT:** Neoadjuvant Chemoradiotherapy  
* **NPV:** Negative Predictive Value  
* **OR:** Odds Ratio  
* **PPV:** Positive Predictive Value  
* **RD:** Risk Difference  
* **T2w:** T2-weighted (MRI sequence)

*Description generated for Application Version 3.0.0. Last updated: June 10, 2025\.*